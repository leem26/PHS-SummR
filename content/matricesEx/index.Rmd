---
title: "Matrices"
author: "Kat Sadikova"
date: '`r Sys.Date()`'
output: 
    html_document
---
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/3.5.16/iframeResizer.min.js"></script>


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


# Check-in

Please answer a few questions in this [check-in](https://forms.gle/TLtGxnFXAfd1jHYZ6) before we begin.

---

## How we read, store, represent data: Scalars, vectors, matrices 

First, we will go through a brief introduction of matrix notation and linear algebra. It's not as daunting as it sounds! And the best news is that the computers do the matrix math for us, allowing us to assess relationships between variables, run regressions and address our hypotheses. This refresher is here to highlight the utility of matrices, provide an intuition into how computers compute, and highlight the role of matrix math in statistical analysis.


---

### Scalars, vectors, matrices

$a = a \text{ , a scalar}$

$\mathbf{y} =\begin{bmatrix}y_1 \\ y_2 \\ \vdots \\ y_n\end{bmatrix}\text{,  a vector of length } n$

$\mathbf{X} = \begin{bmatrix} x_{11} & x_{12} & \cdots & x_{1p} \\ x_{21} & x_{22} & \cdots & x_{2p} \\ \vdots &\vdots & \ddots & \vdots \\x_{n1} & x_{n2} & \cdots & x_{np}\end{bmatrix} \text{,  an }n \times p \text{ matrix}$


---

### Note on dimensions

![](https://media.giphy.com/media/5yLgocAcF0DYJHZtQqs/giphy.gif)

Imagine this very happy Ron Swanson **Rowing a Canoe** and remember that **Rows come before Columns** when indexing elements of a matrix


We read dimensions like $n \times p$ as **rows** by **columns**. $X$ is a $3x4$ matrix:

$$\mathbf{X}_{3 \times 4} = \begin{bmatrix} x_{11} & x_{12} & x_{13} & x_{14}\\ x_{21} & x_{22} & x_{23} & x_{24}\\ x_{31} & x_{32} & x_{33} & x_{34} \end{bmatrix}_{3\times 4}$$

Individual elements are indexed in the same *row-column* order: $x_{23}$ is the element in the second row and third column.

---

### Data example

Let's look at a simple example - data stored in a matrix $X$ with 10 individuals and 4 variables:
- age in years
- height in inches
- a dichotomous indicator of whether the individual likes dogs)
- year of birth


$$\mathbf{X} = \begin{bmatrix} 25 & 67 & \cdots & 1995 \\ 38 & 63 & \cdots & 1982 \\ \vdots &\vdots & \ddots & \vdots \\ 41 & 59 & \cdots & 1979 \end{bmatrix}$$

$$age_{i} = 25, \text{ age of participant i=1 }$$

$$\mathbf{age} = \begin{bmatrix} 25 \\ 38 \\ \vdots \\ 41 \end{bmatrix} \text{,  ages of all the participants}$$

---

### In R

__Build the data set__

<!--- LEARNR EXAMPLE 1 --->
<iframe style="margin:0 auto; min-width: 100%;" id="create_dat" class="interactive" src="https://leem26.shinyapps.io/Matrices_create_dat/" scrolling="no" frameborder="no"></iframe>
<!--- END LEARNR EXAMPLE 1 --->


__What are the dimensions of this matrix?__

<!--- LEARNR EXAMPLE 2 --->
<iframe style="margin:0 auto; min-width: 100%;" id="get_dim" class="interactive" src="https://leem26.shinyapps.io/Matrices_get_dim/" scrolling="no" frameborder="no"></iframe>
<!--- END LEARNR EXAMPLE 2 --->


__Let's inspect parts of this matrix (vectors and scalars)__

<!--- LEARNR EXAMPLE 3 --->
<iframe style="margin:0 auto; min-width: 100%;" id="get_age" class="interactive" src="https://leem26.shinyapps.io/Matrices_get_age/" scrolling="no" frameborder="no"></iframe>
<!--- END LEARNR EXAMPLE 3 --->

---

**Q**: What will `dat[5, 2]` produce? What about `dat[2, 5]`?

---

### Transposing vectors and matrices

We can flip a vector on its side by **transposing** it.

$\mathbf{y} =\begin{bmatrix}y_1 \\ y_2 \\ \vdots \\ y_n\end{bmatrix}\text{,  a vector of length } n$

$\mathbf{y}^T =\begin{bmatrix}y_1 & y_2 & \cdots & y_n\end{bmatrix}\text{,  a row vector of length } n$

**Note:** We may also refer to transposed vectors (and matrices) with "prime" notation: $\mathbf{y}^T = \mathbf{y}'$
(Not to be confused with a derivative!)


__We can also think of vectors as single-columned matrices:__

- A column vector $\mathbf{y}$ of length $n$ has dimensions $n \times 1$.
.center[
$\begin{bmatrix}y_1 \\ y_2 \\ \vdots \\ y_n\end{bmatrix}_{n\times 1}$
]


- A row vector $\mathbf{y}'$  of length $n$ has dimensions $1 \times n$.
.center[
$\begin{bmatrix}y_1 & y_2 & \cdots & y_n\end{bmatrix}_{1\times n}$
]

Thinking about vectors this way will be really handy when we multiply vectors and matrices!


__We can also transpose matrices:__

$\mathbf{X} = \begin{bmatrix} 25 & 67 & \cdots & 1995 \\ 38 & 63 & \cdots & 1982 \\ \vdots &\vdots & \ddots & \vdots \\ 41 & 59 & \cdots & 1979 \end{bmatrix}\qquad \mathbf{X}^T = \mathbf{X}' = \begin{bmatrix} 25 & 38 & \cdots & 41 \\ 67 & 63 & \cdots & 59 \\ \vdots &\vdots & \ddots & \vdots \\ 1995 & 1982 & \cdots & 1979 \end{bmatrix}$


The former columns (variables) are now rows. The former rows (participants) are now columns.

**This will be handy mathematically (but you probably wouldn't just do it to your dataset for fun!).**


<script>
  iFrameResize({}, ".interactive");
</script>