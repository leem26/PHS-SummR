---
title: "Matrices"
author: "Kat Sadikova"
date: '`r Sys.Date()`'
output: 
    xaringan::moon_reader:
    lib_dir: libs
    css: xaringan-themer.css
    nature:
      beforeInit: "macros.js"
      ratio: 16:9
      highlightLines: true
      countIncrementalSlides: false
---
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/3.5.16/iframeResizer.min.js"></script>

class:middle,center

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE, width = 93)
knitr::opts_chunk$set(fig.retina = 3, out.width = "100%", fig.align = "center", message = FALSE, warning = FALSE)
knitr::opts_hooks$set(fig.callout = function(options) {
  if (options$fig.callout) {
    options$echo <- FALSE
    options$out.height <- "99%"
    options$fig.width <- 16
    options$fig.height <- 8
  }
  options
})
library(tidyverse)
reveal <- function(name, num) {
  content <- knitr:::knit_code$get(name)
  last_line <- which(str_detect(content, "\\+"))[num]
  if (is.na(last_line)) last_line <- length(content)
  if (num == 1) {
    first_line <- 1
  } else {
    first_line <- which(str_detect(content, "\\+"))[num - 1] + 1
  }
  content[last_line] <- str_remove(content[last_line], "\\+")
  new_lines <- paste0(content[first_line:last_line], " #<<")
  orig_lines <- if (num == 1) 0 else 1:(first_line - 1)
  c(content[orig_lines], new_lines)
}

v <- c(2, 4, 3)
w <- c(4, 1, 2)
X <- matrix(c(6, 3, 1, 6, 2, 3), ncol = 3)
```
```{css, echo=FALSE}
/* custom.css */
.title-slide {
  background-image: url("img/camp.svg");
  background-size: cover;
}

.left-code {
  #color: #777;
  width: 43%;
  height: 92%;
  float: left;
  #font-size: 0.8em;
  position: absolute;
}
.right-plot {
  width: 50%;
  float: right;
  padding-left: 5%;
}
.left-col {
  width: 60%;
  float: left;
  position: absolute;
}
.right-col {
  width: 30%;
  float: right;
  padding-left: 5%;
}
.plot-callout {
  height: 225px;
  width: 450px;
  bottom: 5%;
  right: 5%;
  position: absolute;
  padding: 0px;
  z-index: 100;
}
.plot-callout img {
  width: 100%;
  border: 4px solid #23373B;
}

h4 {
  color: #F97B64;
  font-size: 22px;
}

h1, h2, h3, h4 {
  margin-top:0;
}

.inverse h1, .inverse h2, .inverse h3 {
  color: #1F4257;
}
.remark-slide thead, .remark-slide tr:nth-child(2n) {
  background-color: white;
}
.title-slide, .title-slide h1, .title-slide h2, .title-slide h3 {
color: #FFFFFF;
}
```

```{r xaringan-themer, include=FALSE}
library(xaringanthemer)
style_duo_accent(
  primary_color = "#1F4257",
  secondary_color = "#F97B64",
  header_font_google = google_font("Lexend Deca"),
  text_font_google = google_font("Noto Sans")
)
```


# Check-in

Please answer a few questions in this [check-in](https://forms.gle/TLtGxnFXAfd1jHYZ6) before we begin.

---



class:middle,center
.left[
## How we read, store, represent data: Scalars, vectors, matrices 
]

First, we will go through a brief introduction of matrix notation and linear algebra. It's not as daunting as it sounds! And the best news is that the computers do the matrix math for us, allowing us to assess relationships between variables, run regressions and address our hypotheses. This refresher is here to highlight the utility of matrices, provide an intuition into how computers compute, and highlight the role of matrix math in statistical analysis.


---



class:middle,center
.left[
### Scalars, vectors, matrices
]

$a = a \text{ , a scalar}$

<br>
--

$\mathbf{y} =\begin{bmatrix}y_1 \\ y_2 \\ \vdots \\ y_n\end{bmatrix}\text{,  a vector of length } n$

<br>
--

$\mathbf{X} = \begin{bmatrix} x_{11} & x_{12} & \cdots & x_{1p} \\ x_{21} & x_{22} & \cdots & x_{2p} \\ \vdots &\vdots & \ddots & \vdots \\x_{n1} & x_{n2} & \cdots & x_{np}\end{bmatrix} \text{,  an }n \times p \text{ matrix}$


---


.left[
###Note on dimensions
]

.center[

![](https://media.giphy.com/media/5yLgocAcF0DYJHZtQqs/giphy.gif)
]

Imagine this very happy Ron Swanson **Rowing a Canoe** and remember that **Rows come before Columns** when indexing elements of a matrix

---


class:middle
.left[
###Note on dimensions
]

We read dimensions like $n \times p$ as **rows** by **columns**. $X$ is a $3x4$ matrix:

$$\mathbf{X}_{3 \times 4} = \begin{bmatrix} x_{11} & x_{12} & x_{13} & x_{14}\\ x_{21} & x_{22} & x_{23} & x_{24}\\ x_{31} & x_{32} & x_{33} & x_{34} \end{bmatrix}_{3\times 4}$$

Individual elements are indexed in the same *row-column* order: $x_{23}$ is the element in the second row and third column.

---



class:middle
.left[
###Data example
]

Let's look at a simple example - data stored in a matrix $X$ with 10 individuals and 4 variables:
- age in years
- height in inches
- a dichotomous indicator of whether the individual likes dogs)
- year of birth


---



class:middle,center
.left[
###Data example
]

$$\mathbf{X} = \begin{bmatrix} 25 & 67 & \cdots & 1995 \\ 38 & 63 & \cdots & 1982 \\ \vdots &\vdots & \ddots & \vdots \\ 41 & 59 & \cdots & 1979 \end{bmatrix}$$

$$age_{i} = 25, \text{ age of participant i=1 }$$

$$\mathbf{age} = \begin{bmatrix} 25 \\ 38 \\ \vdots \\ 41 \end{bmatrix} \text{,  ages of all the participants}$$

---



class:middle,center
.left[
### In R
]

__Build the data set__

<!--- LEARNR EXAMPLE 1 --->
<iframe style="margin:0 auto; min-width: 100%;" id="create_dat" class="interactive" src="https://leem26.shinyapps.io/Matrices_create_dat/" scrolling="no" frameborder="no"></iframe>
<!--- END LEARNR EXAMPLE 1 --->

---



class:middle,center
.left[
### In R
]

__What are the dimensions of this matrix?__

<!--- LEARNR EXAMPLE 2 --->
<iframe style="margin:0 auto; min-width: 100%;" id="get_dim" class="interactive" src="https://leem26.shinyapps.io/Matrices_get_dim/" scrolling="no" frameborder="no"></iframe>
<!--- END LEARNR EXAMPLE 2 --->

---



class:middle,center
.left[
### In R
]


__Let's inspect parts of this matrix (vectors and scalars)__

<!--- LEARNR EXAMPLE 3 --->
<iframe style="margin:0 auto; min-width: 100%;" id="get_age" class="interactive" src="https://leem26.shinyapps.io/Matrices_get_age/" scrolling="no" frameborder="no"></iframe>
<!--- END LEARNR EXAMPLE 3 --->

---

class:middle,center

**Q**: What will `dat[5, 2]` produce? What about `dat[2, 5]`?

---


class:middle
.left[
### Transposing vectors and matrices
]

We can flip a vector on its side by **transposing** it.

$\mathbf{y} =\begin{bmatrix}y_1 \\ y_2 \\ \vdots \\ y_n\end{bmatrix}\text{,  a vector of length } n$

$\mathbf{y}^T =\begin{bmatrix}y_1 & y_2 & \cdots & y_n\end{bmatrix}\text{,  a row vector of length } n$

**Note:** We may also refer to transposed vectors (and matrices) with "prime" notation: $\mathbf{y}^T = \mathbf{y}'$
(Not to be confused with a derivative!)
---


class:middle
.left[
### Transposing vectors and matrices
]

We can also think of vectors as single-columned matrices:

- A column vector $\mathbf{y}$ of length $n$ has dimensions $n \times 1$.
.center[
$\begin{bmatrix}y_1 \\ y_2 \\ \vdots \\ y_n\end{bmatrix}_{n\times 1}$
]


- A row vector $\mathbf{y}'$  of length $n$ has dimensions $1 \times n$.
.center[
$\begin{bmatrix}y_1 & y_2 & \cdots & y_n\end{bmatrix}_{1\times n}$
]

Thinking about vectors this way will be really handy when we multiply vectors and matrices!

---


class:middle
.left[
### Transposing vectors and matrices
]

We can also transpose matrices

$\mathbf{X} = \begin{bmatrix} 25 & 67 & \cdots & 1995 \\ 38 & 63 & \cdots & 1982 \\ \vdots &\vdots & \ddots & \vdots \\ 41 & 59 & \cdots & 1979 \end{bmatrix}\qquad \mathbf{X}^T = \mathbf{X}' = \begin{bmatrix} 25 & 38 & \cdots & 41 \\ 67 & 63 & \cdots & 59 \\ \vdots &\vdots & \ddots & \vdots \\ 1995 & 1982 & \cdots & 1979 \end{bmatrix}$


The former columns (variables) are now rows. The former rows (participants) are now columns.

**This will be handy mathematically (but you probably wouldn't just do it to your dataset for fun!).**


<script>
  iFrameResize({}, ".interactive");
</script>